We integrated multiple components of plant and herbivore diversity to unravel the linkages that drive biodiversity relationships and determine the consequences of biodiversity loss across trophic levels. Our study suggests that lepidopteran phylogenetic diversity is significantly affected by plant species loss when basal splits in the evolutionary history are considered. Moreover, we show that multiple components of tree diversity can synergistically affect species richness and phylogenetic diversity of lepidopteran larvae. Importantly, plant diversity effects were indirectly mediated by herbivore abundance—which sheds light on the consequences of recently observed declines in the number of insects for the structuring and functioning of ecosystems, including evolutionary dependencies between plants and their herbivore communities.